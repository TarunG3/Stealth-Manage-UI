<div class="portfolio-detail-container" [class.min-h-screen]="!property">
    <ng-container *ngIf="property">
        <ngb-carousel class="wow zoomIn portfolio-detail-carousel" [showNavigationArrows]="false"
            [showNavigationIndicators]="property.images.length > 1">
            <ng-template ngbSlide *ngFor="let image of property.images">
                <img class="portfolio-detail-banner"
                    defaultImage="https://placeholder.pics/svg/1600x800/A3A3A3-999999/FFFFFF-FFFFFF/%20"
                    [lazyLoad]="image?.imageUrl" [alt]="image?.altText">
                <!-- <img class="portfolio-detail-banner w-100" src="assets/images/demo.jpg" alt=""> -->
            </ng-template>
        </ngb-carousel>

        <div class="d-inline-block portfolio-detail-banner-name">
            <span inlineSVG="/assets/icons/location-pin-dark.svg" [cacheSVG]="true"></span>
            <span class="ml-4">{{ property.name }}</span>
        </div>

        <div class="d-inline-block portfolio-detail-banner-name">
            <a style="color: white; text-decoration:none" [href]="'mailto:'+ property?._owner?.contact?.email">
                <img style="width:26px;" src="/assets/icons/mail.png">
                <span class="ml-4">{{property?._owner?.contact?.email}}</span>
            </a>
        </div>

        <div class="d-inline-block portfolio-detail-banner-name">
            <a style="color: white; text-decoration:none" [href]="'tel:' + property?._owner?.contact?.phone?.number">
                <img style="width:26px;" src="/assets/icons/phone.png">
                <span class="ml-4">{{property?._owner?.contact?.phone?.number | formatNumber}}</span>
            </a>
        </div>

        <div class="portfolio-detail-about">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <div class="portfolio-detail-about-content">
                            <div class="portfolio-detail-about-headline">{{ property.about.headline }}</div>
                            <div class="portfolio-detail-about-sub-headline">{{ property.about.subHeadline }}</div>

                            <p *ngFor="let content of property.about.content" [innerHTML]="content"></p>
                            <div class="mt-4">
                                <!-- <a routerlink="/" class="button" href="javascript:;">Book Now</a> -->
                                <a style="display: inline-flex" *ngIf="property.about?.buttonName"
                                    [href]="property.reservationLink" target="_blank"
                                    class="reservation-link">{{property.about?.buttonName}}</a>
                            </div>

                        </div>
                    </div>
                    <div class="col-md-6">

                        <img [src]="property?.about?.image?.imageUrl" [alt]="property?.about?.image?.altText"
                            class="portfolio-detail-about-image" />
                    </div>
                </div>
                <div class="portfolio-detail-about-extra" *ngIf="property.extraInfo">
                    <p [innerHTML]="property.extraInfo"></p>
                    <a [href]="property.reservationLink" target="_blank" class="reservation-link">Reserve Now</a>
                </div>
            </div>

        </div>

        <div class="amenities">
            <div class="container">
                <div *ngIf="property?.featuredAmenities | featureAmenities"
                    class="portfolio-detail-about featured-amenties mt-5">
                    <div class="portfolio-detail-about-sub-headline">FEATURED AMENITIES ON-SITE</div>

                    <div class="row">
                        <div *ngFor="let elem of property?.featuredAmenities" class="col-md-4">
                            <ul class="amentied-list">
                                <li *ngIf="elem">{{elem}}</li>
                            </ul>
                        </div>
                        <div class="col-12">
                            <!-- style=" display: flex; justify-content: center;"  -->
                            <div class="mt-3">
                                <a [href]="property.reservationLink" target="_blank">See More</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="portfolio-detail-room container-qxl rooms-suit" *ngIf="property.room">
            <div class="container">
                <div class="row">
                    <div class="col-md-3">
                        <div class="welcome-image">
                            <img defaultImage="https://placeholder.pics/svg/600x450/DEDEDE/555555/%20"
                                [lazyLoad]="property?.room?.image?.imageUrl" [alt]="property?.room?.image?.altText" />
                            <img defaultImage="https://placeholder.pics/svg/600x450/DEDEDE/555555/%20"
                                [lazyLoad]="property?.room?.image3?.imageUrl" [alt]="property?.room?.image3?.altText" />
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="welcome-image">
                            <div class="empty-space" style="height: 40px;"></div>
                            <img defaultImage="https://placeholder.pics/svg/600x450/DEDEDE/555555/%20"
                                [lazyLoad]="property?.room?.image2?.imageUrl" [alt]="property?.room?.image2?.altText" />
                            <img defaultImage="https://placeholder.pics/svg/600x450/DEDEDE/555555/%20"
                                [lazyLoad]="property?.room?.image4?.imageUrl" [alt]="property?.room?.image4?.altText" />
                            <div class="resdestop-none">
                                <a *ngIf="property.about?.buttonName" [href]="property.reservationLink" target="_blank"
                                    class="reservation-link">{{property.room?.buttonName}}</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 align-self-center">
                        <div class="portfolio-detail-room-content">
                            <!-- <span class="top-waves" inlineSVG="/assets/icons/portfolio-waves.svg" [cacheSVG]="true"></span>
                        <span class="bottom-waves" inlineSVG="/assets/icons/portfolio-waves.svg" [cacheSVG]="true"></span> -->

                            <h2 class="home-banner-card-heading">{{ property.room.headline }}</h2>

                            <span class="dark-underline"></span>

                            <p *ngFor="let content of property.room.content" [innerHTML]="content"></p>

                            <a *ngIf="property.about?.buttonName" [href]="property.reservationLink" target="_blank"
                                class="reservation-link resmobile-view">{{property.room?.buttonName}}</a>
                        </div>
                    </div>

                </div>
            </div>

        </div>

        <div class="portfolio-detail-about featured-amenties justify-content-center mt-5 pt-5">
            <div class="container">
                <div class="portfolio-detail-recent-works-headline w-100 text-center">{{property?.writeUp?.headline}}
                </div>
                <p class="w-100 text-center" [innerHTML]="property?.writeUp?.content"></p>
            </div>
        </div>

        <div class="portfolio-detail-manager container-qxl" *ngIf="property.manager">
            <div class="portfolio-detail-manager-headline">Words From General Manager <b>{{ property.manager }}</b>
            </div>
            <div class="portfolio-detail-manager-description">{{ property.managerDescription }}</div>
        </div>


        <div *ngIf="property?.iFrameLink" class="container ">
            <div class="row my-5">
                <iframe style="height: 40vh;" [src]="property?.iFrameLink | safe" frameborder="0"></iframe>
            </div>
        </div>


        <div *ngIf="apiLoaded$ | async " class="container-fluid my-5">
            <div *ngIf="center.lat !== 0" class="row mt-5">
                <google-map width="100%" [center]="center" [zoom]="zoom">
                    <map-marker *ngFor="let markerPosition of markerPositions" [position]="markerPosition"
                        [options]="markerOptions">
                    </map-marker>
                </google-map>
            </div>
        </div>

        <div class="portfolio-detail-recent-works container-qxl mt-5">
            <div class="portfolio-detail-recent-works-headline">Recent Works</div>
            <span class="dark-underline"></span>

            <ngb-carousel class="wow zoomIn recent-works-carousel" [showNavigationArrows]="false" [interval]="100000">
                <ng-template ngbSlide *ngFor="let properties of portfolios">
                    <div class="portfolio-detail-recent-works-container">

                        <div class="container">
                            <div class="row">
                                <div *ngFor="let property of properties" class="col-lg-4 col-md-6 col-lg-4">
                                    <app-recent-work-card style="height: 100%; width: 100%;"
                                        class="position-relative rounded" [site]="property"></app-recent-work-card>
                                </div>
                            </div>
                        </div>

                    </div>
                </ng-template>
            </ngb-carousel>
        </div>
    </ng-container>
</div>

<button hidden #modal type="button" class="btn btn-primary" data-bs-toggle="modal"
    data-bs-target="#staticBackdrop"></button>
<div class="modal fade" id="staticBackdrop" data-bs-keyboard="true" tabindex="-1" aria-labelledby="staticBackdropLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">

            <div class="container-fluid">
                <button style="position: absolute;right: 15px;top: 10px;" type="button" class="btn-close"
                    data-bs-dismiss="modal" aria-label="Close"></button>

                <div class="row align-items-center">
                    <div class="col-lg-7 col-md-12 col-sm-12 m-0 p-0">
                        <img style="
            width: 100%;
            height: 35vw;
            object-fit: cover;
        " [src]="promotionData?.image?.imageUrl" [alt]="promotionData?.image?.altText">
                    </div>
                    <div class="col-lg-5 col-md-12 col-sm-12 text-center py-2">


                        <h3 class="pb-2">{{promotionData?.title}}</h3>

                        <p class="pb-2">{{promotionData?.description}}</p>

                        <a style="display: inline-flex" [href]="promotionData?.path?.url"
                            [target]="promotionData?.path?.isInternal ? '_self' : '_blank'"
                            class="reservation-link">View</a>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>